<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <link rel="stylesheet" href="estilo/style.css">
  <link rel="stylesheet" href="estilo/query.css" media="screen">
  
  <title>Frontend Mentor | Newsletter sign-up form with success message</title>

</head>
<body>
  <header>

  </header>

  <!-- Sign-up form start -->

  <main>
    <div class="image-desktop">
     
    </div>

    <section>
          <h1>Stay updated!</h1>
      
          <p>Join 60,000+ product managers receiving monthly updates on:</p>
          <div>
            <div class="list">
              <img src="assets/images/icon-list.svg" alt="icon-list">
              <p>Product discovery and building what matters</p>
            </div>
            <div class="list">
              <img src="assets/images/icon-list.svg" alt="icon-list">
              <p>Measuring to ensure updates are a success</p>
            </div>
            <div class="list">
              <img src="assets/images/icon-list.svg" alt="icon-list">
              <p>And much more!</p>
            </div>
          </div>

          <div class="input-div">
            <div class="msg-acima">
              <p id="address-txt">Email address</p>
              <p id="txt-erro">valid email required</p>
            </div>
            <form action="pg02.html" method="get">
              <input oninput="validateEmail()" type="email" name="email" id="iemail" placeholder="email@company.com" required></input>
              <input class="isubmit" type="submit" value="Subscribe to monthly newsletter" name="submit" id="isubmit">
            </form>
          </div>
      </section>
  
  </main>
  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="https://github.com/samueldev900">Samuel Oliveira</a>.
  </div>

  <script>
    email = document.getElementById('iemail')
    textErro = document.getElementById('txt-erro')
    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

    function validateEmail(){
      
      if(!emailRegex.test(email.value) || email.value === '') {

        email.style.border = '1px solid red'
        textErro.style.display = 'block'
        return false
      }
      else{

        email.style.border = '1px solid black'
        textErro.style.display = 'none'
        localStorage.setItem("iemail", email.value);
        return true
      }
      }


  </script>
</body>
</html>